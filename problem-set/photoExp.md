# photo

## პრობლემა:
გააკეთეთ ფოტოების აპლიკაცია. აპლიკაციას უნდა ჰქონდეს ტექსფილდი სადაც შეიძლება
ფოტოს(ფაილის) მისამართის ჩაწერა. ენტერზე დაჭერის შემდეგ ეს ფოტო უნდა გამოჩნდეს
ფანჯრის ცენტრში.

## ამოხსნა:
პირველ რიგში ჩვენი პრობლემა დავყოთ რამდენიმე ნაწილად:
* ტექსტფილდის ინიციალიზაცია
* მომხმარებლის მიერ ტექსტის შემოყვანა
* სურათის დამატება
* ფაილის ვერ გახსნის შემთხევაში შესაბამისი მესიჯის გამოტანა

---

### მომზადება პრობლემის გადასაჭრელად
დაგვჭირდება ერთი ინსტანს(private) ცვლადი `JTextField`, რადგან ის მომხარებლის მიერ შემოყვანილი ტექსის მიხედვით 
იცვლება. ასევე აღვწეროთ მუდმივა `INPUT_SIZE`, რომელიც აღწერს, თუ რამდენი ასოს სიგრძის ტოლი ადგილი გამოჩნდება ფანჯარაში ტექსტფილდის ადგილას.

---

### ამოხსნა

* JTextField ის ინიციალიზაცია აუცილებლად `init`-ში უნდა მოხდეს. არგუმენტად გადაეცემა ტექსტფილდის ზომა, რომელიც უკვე აღვწერეთ მუდმივას სახით.

	```java
		inputText = new JTextField(INPUT_SIZE);
		add(inputText, SOUTH);
		inputText.addActionListener(this);
	```

* შემდეგი ნაწილი მომხმარებლის მიერ ტექსტის შემოყვანაა. ამას `actionPerformed(ActionEvent e)` ფუნქციით მოვახერხებთ. არ დაგვავიწყდეს, რომ ეს ფუნქცია აუცილებლად `public` უნდა იყოს. ფუნქციაში უნდა შევამოწმოთ, რომ მომხარებელმა ჩვენს მიერ შექმნილ ტექსტფილდში ჩაწერა. ამას მოვახერხებთ `ActionEvent`ის ობიექტის `source`ის(`e.getSource()`) ჩვენს ცვლადთან შედარებით. თუ მართლაც ჩვენს ტექსტფილდში შეიყვანა მომხმარებელმა ინფუთი, ამოვიღოთ `inputText`ში შეყვანილი ტექსტი `input.getText()` ის საშუალებით. ამის შემდეგ, ვცადოთ შეყვანილ მისამართზე არსებული სურათის წაკითხვა და `GImage` ობიექტის შექმნა. წარმატებულად წაკითხვის შემთხვევაში დავამატოთ სურათი, წინააღმდეგ შემთხვევაში გამოვიტანოთ შესაბამისი მესიჯი. ამის საშუალებას `try catch` მოგცემს.

```java
		if (e.getSource() == inputText) {
			String immageLink = inputText.getText();
			try {
				addImage(immageLink);
			} catch (Exception ex) {
				showError(immageLink);
			}
		}
```
  
* `addImage()`-ის იმპლემენტაცია: ვცდილობთ წავიკითხოთ შემოსულ მისამართზე არსებული ფაილი. პირველ რიგში არ დაგავავიწყდეს, რომ ფანჯარაზე ადრე გამოტანილი ფოტო წავშალოთ. ამას `removeAll()`-ის საშუალებით მოვახერხებთ. ამის შემდეგ შევქმნათ `GImage` ობიექტი, რომელსაც პარამეტრად მომხმარებლის მიერ შემოყვანილი ტექსტი გადაეცემა. რათა ფოტო ფანჯრის ცენტრში გამოჩნდეს, კოორდინატები შესაბამისად უნდა ავარჩიოთ. `x` კოორდინატს შეესაბამება ფანჯრის შუა ნაწილიდან ფოტოს სიგრძის ნახევრით მარცხნივ არსებული წერტილი. ანალოგიურად, `y` კოორდინატს შეესაბამება ფანჯრის შუა ნაწილიდან ფოტოს სიგრძის ნახევრით ზემოთ არსებული წერტილი. მივიღებთ კოდს:

```java
		removeAll();

		GImage image = new GImage(imageLink);
		double x = (getWidth() - image.getWidth()) / 2;
		double y = (getHeight() - image.getHeight()) / 2;
		add(image, x, y);
```

* წარუმატებლად წაკითხვის შემთხვევაში შესაბამისი მესიჯი უნდა გამოვიტანოთ. ამის საშუალებას გვაძლევს სტენფორდის ბიბლიოთეკის კლასი `IODialog`. გამოვიტანოთ მესიჯი: `Image path does not exist`.

```java
		IODialog dial = getDialog();
		dial.showErrorMessage("Image path does not exist");
```

## შესაძლო ხარვეზები ამოხსნის იმპლემენტაციისას
> არ უნდა დაგვავიწყდეს, რომ ტესტფილდის ობიექტის ინიციალიზაცია `init`ში უნდა მოხდეს. 
> შეიძლება ჩავთვალოთ, რომ მომხმარებელს ყოველთვის სწორი ინფუთი შემოყავს. ამ შემთხვევაში თუ არ გამოვიყენებთ `try catch`-ს და ვეცდებით `GImage` ობიექტის შექმნასა და დამატებას, პროგრამა შეწყვეტს მუშაობას ("დაიქრაშება").  

## ამოხსნის ალტერნატიული გზა
> შეგვიძლია დავიმახსოვროთ `GImage` ობიექტი ინსტანს(private) ცვლადად. `removeAll()` ის ნაცვლად გამოვიძახებთ მხოლოდ ამ ობიექტის წაშლას. 
> `addImage()`სა და `displayError()`ს შეგვიძლია არ გადავცეთ არგუმენტად სტრინგი და ტექსტფილდის ობიექტში არსებული ტექსტი წავიკითხოთ. 
